---
import PageLagout from "@layouts/page.astro";
import { getPlayers } from "@models/player";

export async function getStaticPaths() {
    const players = await getPlayers();

    return players.map(player => ({
        params: { slug: player.slug },
        props: player,
    }));
}

const player = Astro.props;
---
<PageLagout title={player.name}>
    <h1>{player.name}</h1>
    <h2>{player.graduationYear}</h2>
    <div set:html={player.bio}></div>
    <img
        src=`${player.headshot.file?.url}?w=150&h=200&fit=fill`
        width="150" height="200"
        alt={player.headshot.title}
    />
</PageLagout>
